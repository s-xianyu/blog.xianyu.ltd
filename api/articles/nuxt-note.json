{"title":"nuxt.js-相关配置信息","uid":"0917e49ac0cf55e8a018d34df21e0e99","slug":"nuxt-note","date":"2018-10-19T10:59:38.000Z","updated":"2023-08-29T03:26:32.882Z","comments":true,"path":"api/articles/nuxt-note.json","keywords":null,"cover":null,"content":"<h1 id=\"nuxt-js\"><a href=\"#nuxt-js\" class=\"headerlink\" title=\"nuxt.js\"></a>nuxt.js</h1><p><a name=\"7whsas\"></a></p>\n<h3 id=\"一、sass配置\"><a href=\"#一、sass配置\" class=\"headerlink\" title=\"一、sass配置\"></a>一、sass配置</h3><p>1.安装依赖文件：<br />npm install css-loader style-loader node-sass sass-loader –save</p>\n<p>在你需要使用的页面添加@import “scss地址”； 见下</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;style lang=&quot;scss&quot;&gt; //这里的lang=&quot;scss&quot; 而不是 sass</span><br><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&quot;../assets/style/mixin.scss&quot;</span>; //全局scss</span><br><span class=\"line\"><span class=\"selector-class\">.container</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">@include</span> wh(<span class=\"number\">10rem</span>,<span class=\"number\">10rem</span>); //这里为自定义mixin</span><br><span class=\"line\">  <span class=\"keyword\">@include</span> flexCenter; //这里为自定义mixin</span><br><span class=\"line\">  <span class=\"selector-tag\">div</span>&#123;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>:<span class=\"number\">1rem</span>;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n\n<span id=\"more\"></span>\n\n<p>如果是全局使用的话，需要在nuxt-config.jsli配置全局css,如下：<br />less和其他依赖一样</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">build</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">styleResources</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">scss</span>: <span class=\"string\">&#x27;./assets/common/common.scss&#x27;</span>,<span class=\"comment\">// 如 less: &#x27;../../common&#x27;</span></span><br><span class=\"line\">      <span class=\"comment\">// sass: ...,</span></span><br><span class=\"line\">      <span class=\"comment\">// scss: ...</span></span><br><span class=\"line\">      <span class=\"attr\">options</span>: &#123;</span><br><span class=\"line\">        <span class=\"comment\">// See https://github.com/yenshih/style-resources-loader#options</span></span><br><span class=\"line\">        <span class=\"comment\">// Except `patterns` property</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p><a name=\"i4cuym\"></a></p>\n<h3 id=\"二、nuxt跨域访问\"><a href=\"#二、nuxt跨域访问\" class=\"headerlink\" title=\"二、nuxt跨域访问\"></a>二、nuxt跨域访问</h3><p>1.安装@nuxtjs&#x2F;axios 和 @nuxtjs&#x2F;proxy 官方模块</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install @nuxtjs/axios @nuxtjs/proxy --save</span><br></pre></td></tr></table></figure>\n\n<p>2.在plugins建立全局js名为axios 内容为：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> * <span class=\"keyword\">as</span> axios <span class=\"keyword\">from</span> <span class=\"string\">&#x27;axios&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> options = &#123;&#125;</span><br><span class=\"line\"><span class=\"keyword\">if</span> (process.<span class=\"property\">server</span>) &#123;  <span class=\"comment\">//其中2222为项目端口号</span></span><br><span class=\"line\">  options.<span class=\"property\">baseURL</span> = <span class=\"string\">`http://<span class=\"subst\">$&#123;process.env.HOST || <span class=\"string\">&#x27;localhost&#x27;</span>&#125;</span>:<span class=\"subst\">$&#123;process.env.PORT || <span class=\"number\">2222</span>&#125;</span>/api`</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> axios.<span class=\"title function_\">create</span>(options)</span><br></pre></td></tr></table></figure>\n\n<p>这样每次通过axios访问api的时候都会自动在前面加上api</p>\n<p>3.在nuxt.config.js里配置axios</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">modules</span>: [ <span class=\"comment\">//配置所需模块</span></span><br><span class=\"line\">      <span class=\"string\">&#x27;@nuxtjs/axios&#x27;</span>,</span><br><span class=\"line\">      <span class=\"string\">&#x27;@nuxtjs/proxy&#x27;</span></span><br><span class=\"line\">  ],</span><br><span class=\"line\"><span class=\"attr\">proxy</span>: [ <span class=\"comment\">//设置跨域代理为 /api 代替</span></span><br><span class=\"line\">      [</span><br><span class=\"line\">        <span class=\"string\">&#x27;/api&#x27;</span>, </span><br><span class=\"line\">        &#123; </span><br><span class=\"line\">          <span class=\"attr\">target</span>: <span class=\"string\">&#x27;https://www.baidu.com:2222&#x27;</span>, <span class=\"comment\">// 需要跨域的地址</span></span><br><span class=\"line\">          <span class=\"attr\">pathRewrite</span>: &#123; <span class=\"string\">&#x27;^/api&#x27;</span> : <span class=\"string\">&#x27;/&#x27;</span> &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  ]</span><br></pre></td></tr></table></figure>\n\n<p>4.完成后可以直接用了 <del>0</del></p>\n<p><a name=\"lqu8wt\"></a></p>\n<h3 id=\"三、全局js-配置\"><a href=\"#三、全局js-配置\" class=\"headerlink\" title=\"三、全局js 配置\"></a>三、全局js 配置</h3><p>插件配置<br />1.首先下载插件 npm install element-ui –save<br />2.在plugins 建立element-ui文件夹用来引入模块，如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Element</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;element-ui/lib/element-ui.common&#x27;</span> <span class=\"comment\">//引入element-ui库</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> locale <span class=\"keyword\">from</span> <span class=\"string\">&#x27;element-ui/lib/locale/lang/en&#x27;</span> <span class=\"comment\">//引入element-ul所需js</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> () =&gt; &#123; <span class=\"comment\">//暴露全局</span></span><br><span class=\"line\">  <span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Element</span>, &#123; locale &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>3.配置到这里，还差一步，在nuxt.config.js里配置如下：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">plugins</span>: [</span><br><span class=\"line\">    &#123;<span class=\"attr\">src</span>:<span class=\"string\">&#x27;~plugins/element-ui&#x27;</span>,<span class=\"attr\">ssr</span>:<span class=\"literal\">true</span>&#125;</span><br><span class=\"line\">  ],</span><br><span class=\"line\"><span class=\"attr\">css</span>: [</span><br><span class=\"line\">    <span class=\"string\">&#x27;element-ui/lib/theme-chalk/index.css&#x27;</span> <span class=\"comment\">//所需css</span></span><br><span class=\"line\">  ],</span><br></pre></td></tr></table></figure>\n\n<p>自定义js配置和插件配置一样，但是要设置ssr为false,意为只在客户端运行的插件。</p>\n<h3 id=\"四、-去除nuxt项目下的vuex变量\"><a href=\"#四、-去除nuxt项目下的vuex变量\" class=\"headerlink\" title=\"四、 去除nuxt项目下的vuex变量\"></a>四、 去除nuxt项目下的vuex变量</h3><figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 删除掉nuxt 项目下html页面下的 window.__NUXT__=</span></span><br><span class=\"line\"><span class=\"comment\">// 进入可以看到一个独立的vue-renderer.js;</span></span><br><span class=\"line\"><span class=\"comment\">// 编辑 vue-renderer.js  大概3835行的样子。注释掉 2个代码块分别如下：</span></span><br><span class=\"line\"><span class=\"number\">1.</span> <span class=\"variable constant_\">APP</span> += <span class=\"string\">`&lt;script&gt;<span class=\"subst\">$&#123;serializedSession&#125;</span>&lt;/script&gt;</span></span><br><span class=\"line\"><span class=\"string\">2. hash.update(serializedSession);// cspScriptSrcHashes.push(`</span><span class=\"string\">&#x27;$&#123;csp.hashAlgorithm&#125;-$&#123;hash.digest(&#x27;</span>base64<span class=\"string\">&#x27;)&#125;&#x27;</span><span class=\"string\">`);</span></span><br></pre></td></tr></table></figure>\n<p>   然后打包编辑就可以了。</p>\n","text":"nuxt.js 一、sass配置1.安装依赖文件：npm install css-loader style-loader node-sass sass-load...","link":"","photos":[],"count_time":{"symbolsCount":"2.6k","symbolsTime":"2 mins."},"categories":[],"tags":[{"name":"前端","slug":"前端","count":10,"path":"api/tags/前端.json"},{"name":"nuxtJs","slug":"nuxtJs","count":1,"path":"api/tags/nuxtJs.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#nuxt-js\"><span class=\"toc-text\">nuxt.js</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%80%E3%80%81sass%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">一、sass配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BA%8C%E3%80%81nuxt%E8%B7%A8%E5%9F%9F%E8%AE%BF%E9%97%AE\"><span class=\"toc-text\">二、nuxt跨域访问</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%B8%89%E3%80%81%E5%85%A8%E5%B1%80js-%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">三、全局js 配置</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%9B%9B%E3%80%81-%E5%8E%BB%E9%99%A4nuxt%E9%A1%B9%E7%9B%AE%E4%B8%8B%E7%9A%84vuex%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">四、 去除nuxt项目下的vuex变量</span></a></li></ol></li></ol></li></ol>","author":{"name":"咸鱼呀","slug":"blog-author","avatar":"/assets/user/avatar.jpg","link":"/","description":"前端小白","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"vue 对IE的支持","uid":"139793d5c2ed6baaff3ef00408b75d99","slug":"vue-Ie","date":"2018-11-19T15:46:53.000Z","updated":"2023-08-29T03:26:32.882Z","comments":true,"path":"api/articles/vue-Ie.json","keywords":null,"cover":null,"text":"vue 对IE的支持Vue 官方对于 ie 浏览器版本兼容情况的描述是 ie9+，即是 ie9 及更高的版本。经过测试，Vue 的核心框架 vuejs本身，以及...","link":"","photos":[],"count_time":{"symbolsCount":429,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"前端","slug":"前端","count":10,"path":"api/tags/前端.json"},{"name":"vue","slug":"vue","count":2,"path":"api/tags/vue.json"}],"author":{"name":"咸鱼呀","slug":"blog-author","avatar":"/assets/user/avatar.jpg","link":"/","description":"前端小白","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"vue入门技术分享","uid":"33ceefa8c316b6afc23261a12527dc84","slug":"vue-share","date":"2018-10-17T15:54:18.000Z","updated":"2023-08-29T03:26:32.882Z","comments":true,"path":"api/articles/vue-share.json","keywords":null,"cover":[],"text":"一、安装1.安装vue所需：先下载node 链接,然后安装，node推荐安装到C盘,免去配置环境变量麻烦。2.安装脚手架和webpack 12npm insta...","link":"","photos":[],"count_time":{"symbolsCount":"6.1k","symbolsTime":"6 mins."},"categories":[],"tags":[{"name":"前端","slug":"前端","count":10,"path":"api/tags/前端.json"},{"name":"vue","slug":"vue","count":2,"path":"api/tags/vue.json"}],"author":{"name":"咸鱼呀","slug":"blog-author","avatar":"/assets/user/avatar.jpg","link":"/","description":"前端小白","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}