{"title":"解决ios端inout失焦时，底部白底","uid":"d18c61dbe504def289447aed632d6a4f","slug":"web-Ios-Android","date":"2020-07-01T16:26:23.000Z","updated":"2023-09-18T09:42:52.052Z","comments":true,"path":"api/articles/web-Ios-Android.json","keywords":null,"cover":null,"content":"<p>经常在ios端遇见键盘弹起后，带起input框上拉，当键盘关闭后，input没有回到原来的位置，这时，ios底部会有键盘收起后的留白。</p>\n<p>想要解决这种问题，需要在键盘弹起、关闭时监听，设置scrollTo（top:0, left:0, behavior: ‘smooth’）</p>\n<p>下面是代码↓</p>\n<span id=\"more\"></span>\n\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">mounted</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// ios底部留白</span></span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">iosWhite</span>()</span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">methods</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"title function_\">iosWhite</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> u = navigator.<span class=\"property\">userAgent</span></span><br><span class=\"line\">        <span class=\"keyword\">let</span> flag</span><br><span class=\"line\">        <span class=\"keyword\">let</span> myFunction</span><br><span class=\"line\">        <span class=\"keyword\">const</span> isIOS = !!u.<span class=\"title function_\">match</span>(<span class=\"regexp\">/\\(i[^;]+;( U;)? CPU.+Mac OS X/</span>)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (isIOS) &#123;</span><br><span class=\"line\">          <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;focusin&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123; <span class=\"comment\">// 软键盘弹起事件</span></span><br><span class=\"line\">            flag = <span class=\"literal\">true</span></span><br><span class=\"line\">            <span class=\"built_in\">clearTimeout</span>(myFunction)</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">          <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;focusout&#x27;</span>, <span class=\"function\">() =&gt;</span> &#123; <span class=\"comment\">// 软键盘关闭事件</span></span><br><span class=\"line\">            flag = <span class=\"literal\">false</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> (!flag) &#123;</span><br><span class=\"line\">              myFunction = <span class=\"built_in\">setTimeout</span>(<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">                <span class=\"variable language_\">window</span>.<span class=\"title function_\">scrollTo</span>(&#123; <span class=\"attr\">top</span>: <span class=\"number\">0</span>, <span class=\"attr\">left</span>: <span class=\"number\">0</span>, <span class=\"attr\">behavior</span>: <span class=\"string\">&#x27;smooth&#x27;</span> &#125;)<span class=\"comment\">// 重点  =======当键盘收起的时候让页面回到原始位置(这里的top可以根据你们个人的需求改变，并不一定要回到页面顶部)</span></span><br><span class=\"line\">              &#125;, <span class=\"number\">200</span>)</span><br><span class=\"line\">            &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">              <span class=\"keyword\">return</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">return</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","text":"经常在ios端遇见键盘弹起后，带起input框上拉，当键盘关闭后，input没有回到原来的位置，这时，ios底部会有键盘收起后的留白。 想要解决这种问题，需要在...","link":"","photos":[],"count_time":{"symbolsCount":"1.2k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"前端","slug":"前端","count":10,"path":"api/tags/前端.json"},{"name":"H5","slug":"H5","count":1,"path":"api/tags/H5.json"}],"toc":"","author":{"name":"咸鱼呀","slug":"blog-author","avatar":"/assets/user/avatar.jpg","link":"/","description":"前端小白","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"NVM 安装 之 window","uid":"8edc8d62dda1f9cdaa862f60478e3e71","slug":"nvm-window","date":"2020-07-03T16:00:17.000Z","updated":"2023-09-18T09:42:52.052Z","comments":true,"path":"api/articles/nvm-window.json","keywords":null,"cover":[],"text":"1.首先下载nvm安装包官方地址：https://github.com/coreybutler/nvm-windows/releases 推荐下载： nvm-s...","link":"","photos":[],"count_time":{"symbolsCount":645,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"前端","slug":"前端","count":10,"path":"api/tags/前端.json"},{"name":"nodeJs","slug":"nodeJs","count":2,"path":"api/tags/nodeJs.json"}],"author":{"name":"咸鱼呀","slug":"blog-author","avatar":"/assets/user/avatar.jpg","link":"/","description":"前端小白","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"WebStorm配置本地测试服务器","uid":"aa61b3833f4b0085491ebb8181f41aa4","slug":"WebStorm-server","date":"2020-05-29T16:23:58.000Z","updated":"2023-09-18T09:42:52.052Z","comments":true,"path":"api/articles/WebStorm-server.json","keywords":null,"cover":null,"text":"1. 点击Settings 进入设置2. 选择 Build, Execution, Deployment 下的 Debuggera. 将端口号 63342 改为...","link":"","photos":[],"count_time":{"symbolsCount":470,"symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"工具","slug":"工具","count":1,"path":"api/tags/工具.json"}],"author":{"name":"咸鱼呀","slug":"blog-author","avatar":"/assets/user/avatar.jpg","link":"/","description":"前端小白","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}